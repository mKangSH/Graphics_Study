## 루트 서명 (Root Signature)
- [루트 서명 예제를 통한 구조 파악(MS Docs)](https://learn.microsoft.com/ko-kr/windows/win32/direct3d12/example-root-signatures)
- [HLSL 루트 서명 지정 방법(MS Docs)](https://learn.microsoft.com/ko-kr/windows/win32/direct3d12/specifying-root-signatures-in-hlsl)
- 최대 크기: 64 DWORDs
  - Descriptor Table: 1 DWORD
    - performance cost: 2
  - Root Constant: 1 DWORD
    - performance cost: 0
  - Root Descriptor(64bits GPU virtual address): 2 DWORDs
    - performance cost: 1
- 그래픽 명령 목록
  - 그래픽 루트 서명
  - 컴퓨팅 루트 서명
- 컴퓨팅 명령 목록 
  - 독립적인 고유한 루트 서명
- 셰이더에 필요한 데이터 형식 확인
- 실제 메모리, 데이터 비할당
- 런타임에 설정 및 변경된 실제 루트 매개변수 값을 루트 인수라 명명
  - 루트 인자를 변경하면 셰이더가 읽은 데이터 변경
- 루트 매개변수
  - 각 매개변수 항목은 균형 있게 조절 가능
  - 루트 상수(루트 인자에 인라인된 상수)
    - 셰이더에서 상수 버퍼로 표시되는 인라인 32비트 값
    - HLSL(High Level Shading Language)의 상수 버퍼로 표시
    - 기록을 위해 상수 버퍼는 4x32비트 값 세트로 표시
    - 사용자 상수 세트는 스칼라 배열로 처리되며 동적으로 인덱싱 가능하며 셰이더에서 읽기 전용
  - 루트 설명자(루트 인자에 인라인된 설명자)
    - CBV, (raw or structured) UAV or SRV
    - 형식화되지 않은 버퍼
    - 지역 또는 글로벌 루트 서명에 있는 레이트레이싱 가속 구조의 SRVs 
    - 크기 제한이 없어 범위 이탈 확인 불가
  - 설명자 테이블(설명자 힙에서 설명자 범위에 대한 포인터)
    - 설명자, HLSL 셰이더 바인드 이름 및 표시 여부 플래그
- 정적 샘플러는 루트 서명의 일부지만, 64개 DWORDs 제한에 미포함
  - 정적으로 정의 가능한 경우 설명자 힙으로 정의할 필요가 없음
  - performance cost: 0
- 정적 샘플러 및 동적 샘플러가 혼합되어 포함 가능
- 설명자 힙에 할당된 샘플러는 동적으로 할당 및 인덱싱 가능

## 루트 서명의 사용법
- 그래픽 파이프라인에 바인딩된 리소스 종류 정의
- 명령 목록을 셰이더가 필요로 하는 리소스에 연결
- 루트 매개변수가 임의로 정렬된 컬렉션 정의
- 프로그램은 루트 서명 최소한으로 사용
- 명령 목록 또는 번들에 설정된 루트서명은 그리기/디스패치 호출될 때, PSO 설정과 일치되어야 함 
- PSO 변경할 경우 전용 API를 이용하여 루트 서명 재설정
- 루트 인자가 변경되면 드라이버에서 모든 루트 인수 버전 유지 관리 필수
- 성능에 의한 사용 지침
    - 작은 루트 서명이 꼭 필요할 때는 사용
    - 매개변수가 자주 변할 수 있도록 큰 루트 서명에서 매개변수를 정렬
      - 만약 거의 접근하지 않는 파라미터가 중요하다면 먼저 발생하도록 정렬
    - 사용 가능한 경우, 설명자 힙에서 CBV를 전달하는 위치에 루트 상수나 루트 CBV를 사용